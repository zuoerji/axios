<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
<button onClick="axiosGet()">get请求 </button>
<!-- <button onClick="axiosPost()">post请求 </button>
<button onClick="axiosPut()">put请求 </button>
<button onClick="axiosDelet()">delet请求 </button> -->

<!-- <button onClick="instance1AxiosGet()"> instance1 get请求 </button>
<button onClick="instance2AxiosGet()"> instance1 get请求 </button> -->
</body>
<script src="https://cdn.bootcdn.net/ajax/libs/axios/0.19.2/axios.js"></script>
<script>

    // var instance1 = axios.create({
    //     baseURL:'http://localhost:53000'
    // });
    // var instance2 = axios.create({
    //     baseURL:'http://localhost:83000'
    // });
    // console.log(axios.create())
    // function instance1AxiosGet(){
    //     instance1.get('/data').then(res=>{
    //         console.log(res)
    //     })
    // }
    // function instance2AxiosGet(){
    //     instance2.get('/data').then(res=>{
    //         console.log(res)
    //     })
    // }
    axios.defaults.baseURL = 'http://localhost:53000'
    axios.interceptors.request.use(
    config=>{
        console.log('请求拦截1')
        return config
    },error=>{
        console.log('失败 请求拦截1',error)
        return Promise.reject(error)
    })
    axios.interceptors.request.use(
    config=>{
        console.log('请求拦截2')
        return config
    },error=>{
        console.log('失败 请求拦截2',error)
        return Promise.reject(error)
    })

    axios.interceptors.response.use(
    config=>{
        console.log('响应拦截1')
        return config
    },error=>{
        console.log('失败 响应拦截1',error)
        return Promise.reject(error)
    })
    axios.interceptors.response.use(
    config=>{
        console.log('响应拦截2')
        return config
    },error=>{
        console.log('失败 响应拦截2',error)
        return Promise.reject(error)
    })


function axiosGet(){
    axios({
        url:'/data',
        method:"GET",
    }).then(res=>{
        console.log(res)
    }).catch(err=>{
        console.log(err)
    })
}
function axiosPost(){
    axios({
        url:'/data',
        method:"POST",
        data:{
            name:"王五",
            age:233
        }
    }).then(res=>{
        console.log(res)
    }).catch(err=>{
        console.log(er)
    })
}
function axiosPut(){
    axios({
        url:'/data/3',
        method:"PUT",
        data:{
            name:'王六',
        }
    }).then(res=>{
        console.log(res)
    }).catch(err=>{
        console.log(err)
    })
}
function axiosDelet(){
    axios({
        url:'/data/3',
        method:"delete",
    }).then(res=>{
        console.log(res)
    }).catch(err=>{
        console.log(err)
    })
}

</script>
</html>